---
import ThemeToggle from "./ThemeToggle.astro";

const base = import.meta.env.BASE_URL;
---

<header class="sticky top-0 z-50 border-b border-border bg-bg">
  <div class="flex h-14 items-center justify-between px-4">
    <div class="flex items-center gap-4">
      <!-- Mobile menu button -->
      <button
        id="menu-toggle"
        class="lg:hidden p-2 -ml-2 hover:bg-bg-secondary rounded-md"
        aria-label="Toggle menu"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>

      <a href={base} class="font-semibold text-lg hover:opacity-80">
        Final Exam Notes
      </a>
    </div>

    <div class="flex items-center gap-2">
      <ThemeToggle />
    </div>
  </div>
</header>

<script>
  const menuToggle = document.getElementById("menu-toggle");
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("sidebar-overlay");

  menuToggle?.addEventListener("click", () => {
    sidebar?.classList.toggle("-translate-x-full");
    overlay?.classList.toggle("hidden");
  });

  overlay?.addEventListener("click", () => {
    sidebar?.classList.add("-translate-x-full");
    overlay?.classList.add("hidden");
  });
</script>
